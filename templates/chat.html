{% extends "base.html" %}
{% block title %}Chat with {{ other_user.username }}{% endblock %}

{% block content %}
<h2>Chat with {{ other_user.username }}</h2>

<div class="chat-box">
    {% for msg in messages %}
        <div class="message {% if msg.sender_id == current_user.id %}me{% else %}them{% endif %}">
            <b>{{ "Me" if msg.sender_id == current_user.id else other_user.username }}:</b>
            {{ msg.content }}
            <small>{{ msg.created_at.strftime("%H:%M") }}</small>
        </div>
    {% endfor %}
</div>

<form method="post">
    {{ form.hidden_tag() }}
    {{ form.content(size=60) }}
    {{ form.submit() }}
</form>
{% endblock %}
